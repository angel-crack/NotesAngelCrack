This topic will cover the bootup process of the endpoints at a high level. It is important to understand the various steps and configurations files as an overview before diving into the details in the following topics.

## IP Phone Bootup Process: Step 1
![[Pasted image 20241104153905.png]]

**Step 1:** In order for the phone (endpoint) to boot, it requires power. This can be sourced from a few places:

1. The phone can receive its power through Power over Ethernet (PoE) from either the switch or a midspan injector. Power injectors can be in the form of a powered patch panel, which can power multiple devices. Power injectors can also be small form factor power injectors to deliver power to a single device, most often connected closer to the endpoint. Midspan injectors were quite common a few years ago when PoE switches were still expensive. These days midspan injectors are rather rare, given that switches often have PoE as a default option without the extra associated costs of previous years.
2. Power Cubes are traditional power adapters that can be plugged directly into power at the wall and deliver the power to the phone through the power plug at the back of the phone. Much like midspan injectors, these were more common a few years ago when companies wanted to deliver power to phones but did not want to replace existing non-PoE switches in their data centers.
3. Larger telepresence devices require more power than can be provided by PoE and must have mains connectivity. PoE is supported on phones and DX telepresence units only.
## IP Phone Bootup Process: Steps 2 to 4

![[Pasted image 20241104153922.png]]

**Step 2:** When the phone has power, it will load a local copy of the firmware on the device. This is known as the phone-load. The phone load is stored in a flash on the endpoint.
**Step 3:** When the phone has loaded the software, the third step is to identify if a Voice VLAN has been configured on the phone. If not, a query is sent to the switch for the Voice VLAN information. This query can be done through either Cisco Discovery Protocol or through LLDP (Link Layer Discovery Protocol).
**Step 4:** If the switch has a voice VLAN configured, it will reply to the phone with the information. The phone is now able to tag voice traffic with the correct VLAN. Data traffic is left untagged. Data traffic, in this instance, refers to traffic generated by a PC plugged into the PC port on the back of the phone.

## IP Phone Bootup Process: Steps 5 to 6

![[Pasted image 20241104153939.png]]

**Step 5:** The fifth step in the process is for the endpoint to discover its IP settings. This can be configured statically on the phone, or the phone can receive these settings via DHCP. Apart from IP Address, Subnet Mask, Default Gateway, and DNS settings, the phone also needs to obtain the IP address of the TFTP server. The DHCP server can be configured with the TFTP server address using a scope option 150.

**Step 6:** With the IP address of the TFTP server, the endpoint can now request its configuration. The configuration will contain a list of the CallManager nodes the phone must register to. The TFTP server is a service that is activated on one of the Cisco Unified Communications Manager servers. This is most often configured on the publisher node. For redundancy, two TFTP servers can be configured in the cluster. For larger clusters, both TFTP servers can be dedicated subscribers.

## IP Phone Bootup Process: Steps 7to 8

![[Pasted image 20241104153950.png]]

**Step 7:** Part of the configuration file downloaded from the TFTP includes the version of firmware (phone-load) the phone must be running. If the version in the configuration file matches the version stored in a flash, then this step is successful, and the phone continues to step 8. If the load versions are not the same, the endpoint will request the correct firmware from the TFTP server. Note that the version on the TFTP server is always the correct one, even if this is a lower version than the one on the phone. After the phone load has been downloaded and installed locally on the endpoint, the device will need to reboot for the new load version to be loaded. The phone will begin the boot process again.
**Step 8:** The final step in the bootup process is for the endpoint to register with the correct CallManager node. The configuration file received from the TFTP server contains a prioritized list of servers that the endpoint must register with. After it is registered, the endpoint will receive the remainder of its configuration, including its directory number, ringtones, phone button templates, and softkey templates, just to mention a few.
## Note

The eight-step bootup process assumes no steps fail because of missing or incorrect configuration.